{:deps     {:aliases [:cljs :dev]}
 :nrepl    {:port 9000}
 :jvm-opts ["-Xmx2G"]
 :builds   {:web
            {:target     :browser
             :output-dir "resources/public/js/main"
             :asset-path "/js/main"
             :modules    {:main {:init-fn app.client/init
                                 :entries [app.client]}}
             :dev        {:closure-defines  {'goog.DEBUG true}
                          :compiler-options {:external-config {:guardrails {}}}}
             :devtools   {:after-load app.client/refresh
                          :preloads   [com.fulcrologic.fulcro.inspect.preload app.development-preload]}}

            :native
            {:target     :react-native
             :init-fn    app.client-native/init
             :output-dir "mobile/index"
             :dev        {:closure-defines  {'goog.DEBUG                  true
                                             app.client-native/SERVER_URL "http://10.0.2.2:3000/api-native"
                                             com.fulcrologic.fulcro.inspect.inspect_ws/SERVER_PORT 8237
                                             com.fulcrologic.fulcro.inspect.inspect_ws/SERVER_HOST "10.0.2.2"}
                          :compiler-options {:external-config {:guardrails {}}}}
             :release    {:compiler-options {:optimizations     :simple
                                             :infer-externs     :auto
                                             :variable-renaming :off
                                             :property-renaming :off
                                             :pretty-print      true
                                             :source-map        true}}
             :js-options {:node-modules-dir "mobile/node_modules"}
             :devtools   {:autoload   true
                          :after-load app.client-native/start
                          :preloads   [shadow.expo.keep-awake app.inspect-native-preload]}}}}
